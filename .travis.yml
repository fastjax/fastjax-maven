# Copyright (c) 2018 OpenJAX
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml
script:
- 'if [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -Dmaven.rtest.skip clean deploy -P deploy;
  else
    mvn -Dmaven.rtest.skip clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: YztOJ2/mOJNtxZwL6uH+NeXwSyWMej6htRx2NPSuy3coqhd0O0SWS8zJ2ztXvnowJzJaAO0ZQqLEzfL+/eZ0hDESutGcTvOm5QnWdipy4vwNZ4jGIZwha/xrbcp02yeTvG62TiGW9tH3K0qCp7DzVUZbE/lRmDbZ7EA2v5BCTfSuUx2hvhfvRu8OTGVKntAUF+mLmp48j1TVxM7RfAUKKQqNA9AH8yu0vJbN85eVaQQipxVOsQoNYiJ0/xJqQIv3NtVaJiEXbTBrSEm8pWetckX4wfP1QjeffRQK/L/viN4Jdl+Whw2YYhzHJNs2NW4vccgSIo+jZBhheZ9gHxw6OtFYK9tYEITPkVNOeU6pcarZBs6VebWOCNS8VYNrx9TMRQG6ZFqcb4q6CJcpX7R0nWdR4tZtPU3nv6w7Nu94MxmGZ/J85Nu1HX97GtzRSdB8iqQz+He9Bhgdps/cvrWLu5MU0Kqum/A6GLVfZ15QeeYLl6Pdz7utrmbU7BxUQSLV/KtJmchpLQlCkugS/EoxbXz09Peyl7C6bwY/CMZJPyqCbkk/movBbGezAsQXKDpvRFAqLUZ1pkkGBccLbWfPkndhCAUMzEP4AqPhTILDNVAF10yYrq4mpardjeKJlpLswu37pWpnoHLrekdhVYxE3okVk62Itr1COoXZuT9dLAc=
  - secure: DmXzokPDX/xgYFAjJ0JjJeVH0Ruf4XESGqRxuTLidL8+6MnNgjS+0b1SHw01irYv1dVAEdGv+Ku2oX6kyCI9t8GLo2oa5f9HomJ6bSzk+kwl8HGxr7ZMnOOYcfmQ3B002OY0+u8b0pW5R/UCy9bUUZOJWjI7U/0PuvsveVWjPuMkQdDWphEzDUQ7T/puk7+yBa/a/ksr7FE+0q5bWNk0A0o9/sAB299GXmUbsuV/JyErqE4DUUGmPeiobI7lUH210jw+WxVPgKVI8caBORs24Ce7yvt2koRSAOn0LUJkdee19cOPFerBZKqKfEwZiYNJ4wKYmCR/yBNb4kGR5Eq6mnMyMoWNPcBm4Qh5ds4C+mchrXsqbuYcTXk8EHAx54XuI1p8rsHr1aw6or/yQA8z4fP2yj7IKSZ4jADXJxPsp0GUz/8oBkkvhLFvLq7A6HTJF1+6L/nLRv3nW4zdB7C0tM8VvjYKbQxoOeCqxdYTHjQmSM/xs7ZMJYHOq7fiz/maTztXzm5E1i1jkvzTRwI3WfI0gQONUDY+dcMvcxNaMJlmsenAhqhDO9aepfHkcMlMmL+dUCgtGjHVERGRDMb8WfQRSU1rZt8NLu8WwiN0G2n2u3DmI1aA5ej2P4dewNoGaR2JaAaW7+oUJ7Fvjc2KWlu8JegQ6FNDR9/2js6sYk8=
  - secure: Np/ysK+HZ5sNQuZTwNRF0UJxnHRZUqPC8+CGrRlFM2CtQPkbDtDEZatkdbVEUgqh6Lhmr2Spv3cFgUI9NIFW8GJbInooF4v3ySNU+doOdndNVKFGoypfTgFd9zp7yVThhJ4g5Lge5eIiUIbzQJbnVnfKfYYVsjZxZ9dBDvEkwrNjgcKz2Carp8aeMMVHNntVqC25e78+73iz2CdeHI5AspQ00BUbEWe8DHn3POEHRDvd6+aQp62UxCY4qd/xbdWnxwB61phZRr7CJVMXObc5uhDETKCd7I4z4K//xP6ZxjXb58exhGDxulkQ8fzAYfySrk/cZNJkHDTlBfQo1gMXhRi/X0y7hzaPSMkKK37nXY3d3nfF7zWDRWMlDUh9BIUMxuc3CRVwcF3xN6EAnIW2p7cgnWcWhge7Ep1w4N/A9+zugGky20DPOTceKFLytUwU2K2gvnwWAL7Q35NH4RSyQiGaeeVotV2zaYxKydwrmfh8AEeMZPljfAX6BIoYZ3H7I/Bapb0+7yUnrbKHOp12pOEyI8GM4eDOh9fozi1qdfdIHDzmTPJKfSXGU1Ddvm7J3DoZ0BXNtDR+QqcOkrRrePt5o35+X8rjdwKRU9JLIhIeoTykfhTEcKxmZvbVegblPifrnpOYU8H2ViUcUXklsPx2ALQ576t/0lBXUl1C1Lc=
  - secure: VypZTzQDS3NvKzn6YRqUGUpoAIqFIeqgKFHHv7ZMND6D+wn1i1NGM//t+SNIX0TGREfnDNwJRGqpGO6FA4XGwfDykar+0c2GXQO2gg1DPyUKJUrqQlYSqzXRI5FGRI94ywIWuFOqHdFPO1+bNfDzk2GVRyqh0N1Dzewlq4NvSQXvJVF06MtMKXqgSD3fD5B44XEpFck/NAE0OPSrd5MV2bRsVXdO+1+CZBVcEW5J5v2YzKnLsVtc4Cin4f3+Azw81HdCQUYRD1UnMClqhK33yPcVEmlgtTCbLMdEmtrTQ4h9e05XPWM8fCYRWuUvr2K+LsTsKAQfT9/cKNRdyPb2P7LPHgOG/IYFeNVUbVlZFNFihB1/67PKo3KCNBPEiTqyqDtIrmfODvz3rjBklcKSRm/EIzHE2ik7jGrCnyfo25hfR1+L4AV/rFv3R5apqJgN/k8EBTK/lIdSd1aSgxJ95CV5EnX+mJeTPi7nnUnmXtTaKOMIWdBIfF8C1uluAxrcgjYVtd8C+457aRgJU67DkhHuZ4uSYTMeIE9F+05GSvC3FyXzyhrTJj0LSPWFctpKR9p7vrHbwdWpZ14qoUJLO6H7AxT/Ief55qdQnbpbu71jyHF0KgO2Glhmoqp5S8Nv+soDrwIxlWlhSoLN9bNeXiUPCirce5gZDC3DpY0A1SY=
  - secure: WPH5eaWZpz0xaJL7IBN14Qv2/1NqO/qNWu5J+n/6EggdKU96hogIOUwerNBk+f2FrbvnK9vC14EVxYvqknjjnVxmfYjBmLc6XXw7TLSpUOnxh5SiZwUnSgO5IkSuzQzB8p4qD6rr85USFj+6Yl1Y3tMJybQodcrlUR9+F+o5WyxEch1/PIJaokO/OxByWV0jdyT1+xLS1bvmilaxb19lUJcZTjJfY8Jc87PuD62vjg7o3uLKnJlVCbWMxuQfpugi5m+BT32ZeZEgVZa9Ceu41pDmoeSzym3iu4WvFsPFWpLVN923mMztjyvRJbVpHty/vMpkbq3VOl+1lJKgHbSpPzSogFDZkx0JvbDf9ifCfRJjWvZeBaIB1bAI/s52Zwwuu58wEpJ/kMKqihvPpDq4b0q4Zyrq/RWyyByh7/yifhVWL2Ie/SWRRuHY8Z0O06WQ2Vq9QBXJr5HZ6Gkk/67Fm4rVpYnL7ita/tcFOmMGa/iv5S+kyZHc3IeV7AJbOjnzNXyUP6ktmgc2b1plOqMIYeld789wOM7tptiB3ICv2Nqpt6ylzWmXtlFZ6ovSmwWsA0Hy+8OnVRzUnhVcf1zDRpTeIPfAoW2NEqLT0spBF7c6HonSynL3odiNrc2ef4FPrjrUPjrp6FegP8SqZ+P7CP4OKwFf6DS/0mFLNDDD18g=
  - secure: JxtA8ZIEKfptkt2Ytncq6lKZ4mSwpeECADWAncYRJ9bpaC4fDiVHa4RyYiOTnLV/t2v+6gSD7lHuo/R+qqo7G8tj/SHCIHwEqcYc8aV9jGNd8mZv350sw8WMef83ro0hSJzYKGLdVNpA+Nx6rCYxHguBu2RhThgcVgfkW/V7rmkSfLC9GF3f7sVxabJlx3n1ZMZ5qdsBrKXJ6prGLpslOoN3lls2ZqfOb2echEV/pjysUu3TcIb9FSR5o8itkroarkIqNqanF38boJk9mJuq4e0aexj2AzhFjIN9J+ZfNph0C7U/oHDw169JKC6YC0sfPxFXf2EKObbqKA49WPSDV1mljZx9GtDxkY5wKJheMaJ81+cNtx4FrXPNHOsIhD82nK+GhMl1fXD0jchVydomgklL3XtYQOua9Zp9eVkz10VmkjdlD27JoVJzxfURFmZI0T4iUsRZ0Z3c4jCikxuUyAxZzOF7pA6/Ce63KVgZsiKxr5/osq7gjt92MdDLZNHfd9zEWAJVNE95bjgqh0C5hl1T4R3/VSuysw/xgfws4gluNjikcvZEJxZK4bXvlW782SLwsFZeiQEmN+tFk3luOXNC+csIfQejPKOsSutJr5QK+kBW8cGny3AyFBR+ZXOmB5fsiSf1+uTUfKzYqVV0FKBMOu2JzqumeG7RqNDdbe0=
