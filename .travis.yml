# Copyright (c) 2018 OpenJAX
#
# Permission is hereby granted, free of charge, to any person obtaining a copy
# of this software and associated documentation files (the "Software"), to deal
# in the Software without restriction, including without limitation the rights
# to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
# copies of the Software, and to permit persons to whom the Software is
# furnished to do so, subject to the following conditions:
#
# The above copyright notice and this permission notice shall be included in
# all copies or substantial portions of the Software.
#
# You should have received a copy of The MIT License (MIT) along with this
# program. If not, see <http://opensource.org/licenses/MIT/>.

language: java
jdk:
- oraclejdk8
- oraclejdk11
install:
- cp settings.xml $HOME/.m2/settings.xml && rm -rf ~/.m2/repository/org/openjax
script:
- 'if [ "$TRAVIS_COMMIT_MESSAGE" = "Update README.md" ]; then
    return;
  elif [ "$TRAVIS_JDK_VERSION" = "oraclejdk8" ] &&
      [ "$TRAVIS_BRANCH" = "master" ] &&
      [ "$TRAVIS_PULL_REQUEST" = "false" ]; then
    sh -c "$SIGNING_KEY" | $GPG_EXECUTABLE --fast-import &> /dev/null &&
    mvn -e -U -DskipRTests -DrepoToken=$REPO_TOKEN clean deploy -P javadoc,report,deploy;
  else
    mvn -e -U -DskipRTests clean install;
  fi'
cache:
  directories:
    - ~/.m2/repository
env:
  global:
  - secure: BaFIaDAAHLanG+6OU0wDIZf2WUTlH5ThLQuNr07RqF08PfTaUyHaNmQnXWtFSTfu9x3Qo1PhnwNlnDcorlBMHt9BfMYCdGgwzZKj2skLs20EuZgHntR/Lq3OiW8FqR2l277iSrpAfWILxR14xXE9UtMj/KBS9/BbRT9K+Qjk8+yWv2VwwnX3QUMdYirog/UfFBnaBWU7ZTE8cv6pPiBZ3HuO2KeJP4Y1O4EIQn/FNRW/n8YCzshemQ9PII5hHDGglA9kAqdlFVeBZTaHNdNoGiiBZcGTlw6lhA7BtGLbxfr+A9dnhqHDbElHuH+/z6A0rrM7wDZN/+mQXxPZgAEqhVKr8QD0oYGAiJoWmL9HolySlr2tORPW+6XWNiUkQl7J5vbF4LtBsXTylPd0NfbMgPElJjlwHjLYMf9H9l2hg+qi2NGh+wvsWB3leoVlZDz+PYCCOscEga7PBUE42pUQ7mlrsSxlZ6BaKusdwoT6g+rjVO2+pqABji3jmuKuzLxtguWkheUeONZzThpF2uWLdanVPhTTvj5YXdcDDOAqoUIYTfOyWxYCnZ6Uu2o6Bog9dm3janBX76fAH5x9xP3NXegBsO/jS5tfxUky2vOXxaRBPS+jLlFyGAG35zmJGmd23pEvxtGyax0HxkR2UmDqTmaaPf+0cOat2OvC+N326lQ=
  - secure: XX7B8dj/eh/uUK1V89FMVMJOKemEn1juzxXZpj9ZU+szQSukCej5jiK099dYalORvZelxOrIcTyHYg/3ogUC8UoHuW3DiIGFdjCF9/l79+YNMH45PwVn4WFTVzohRDeNv8iPSZr6Y0JJvBh8WzFq3Lt87QoymPHgb6o35fYWYMKMOIdETabvWzCl+6cNkGHuJJcdbk2bbQcI5+Dm0sfbGZ6iD86eQtW8JO2UNN/OLtoMT7O0EISwiAQxIr5UmzkttqZbu/psXzptZTXszbaif08lm8fXb+CbgT9n3WvbZckY3S0uhS45nAMdvbF4piUaWKwBjTK7yYTK23p+0VOQFyP8PxWptCY2RqEaPNjSYQaWFR6WAS6Q9BovPARrEtYdlxwH8NoY9x4Zgy+mJm/0DGUZzBwCl9llqWCKJs2brbpETEzSEXGk7IqbyDnp4mfB2VFmdptFIQoBfbp7r4tUgnnoWL3gfIhxa9T2YNUdFmW21Cum7Vn6tkCf45cusIdHW/B7IZ4ATjiGe90Fnjd8wNCB5ls1surXFTAf2kKDrtdgCFko6r2TAmwmBkx6n/CipMqzDZxvN5PuQ9dchDsEnYGCaZHLrr7tBL7SW5l8fGQOwADIOjjrKs+fMS0rZJ9frBy4KdzbR+buU+X9tB2crBRmoqF3S1AGrUKxzR07ZjM=
  - secure: a+d4G31VUVEm9lZ/yTpB7o7zzCQ5BEssa1ZcsINgT9ro/KPpeB8aObWLYiU6RNdnTRE6i5mkbGS7Gj90H7ayYJogBavxqCVuIfZcqFeE+U1XcSsvMpoZVNqEJsgT98Co3BoFXXx/zH0dTGMLNZcvKMOBcIzSlce8fHp3kItrCe0QG3XM1BTb/Q24URrqBunZRSYm/yGUSI9NZDuBT3J72jKkAKpACvEw6F8AxjBDVVeQANDlYUzitOQvco4+HBMvGpavBWufNfaZAN3u/UyWG8QsKOYZ9gjKFy1q/4w3/t7hQuHY0NlDEzZzjMzzjafzHGTTa12Klo2P9PcPBFVh671Qaho7VU1tkFochmFiBJM0Cnz3M9HnFVLndrr3as8G3dyDFzNLLSVvxiulw1+4ZBorM984STJXI9pE6N8DN6qHPJMiFxQUDJzWUSrl/YG5CPDi6uYNc0ATns8Na78Ga/L2WFD56TdoRDadJJBRuv54KgF/Ip0Y+qfQp0yEbu3tKFz6NQr42VV8mk/P3iwDHdTjrH75KQPZmu03iq8QxMIYb0t73AeCbVS8lR+Zlm3t7W27xAAQU1c87dzdLquyqHwaDeEhCwCkKRQqO5x1Y8L7nEpdoTs0qhrK+gXs7u8A1TEvvW03fsig8LY6uhHROdVLPZc1afn441s2q77Y9lA=
  - secure: QL9E+5xpyYyBzYbuclZRYJm2de8H6qSiTNM2+Attbh7QB/WRHqcoCwdsSlQxp0oN5uXbbpZ7yiouHNaIBCcCnOftO2dchYzXZG9uRpSsdEp4tRh2VOBpdAbQBpUBVKRJTviEgdOk9s4BCTtX7fgl6KyBVGQZ+Q8AMcApDpPcA/c4XIRl+FFu6l8AhNrUtmSeekT9Lgh45aJaukoiQHnlfeYgfORAvoe8LQLkKoyHKis9calBciIvkIPBG2K4gDHMbg7rjAk88QIoJyLgHcymCsLTXkpsD6BdQ2UIsxPB0c1hzFYbP5269E5DBPYhCS3Sg03Py1d+zNqO4w2p2xcPmVwUHHe4iil6giZe4RpXtHs915+X1qJgdmuOmYJVtcStxwlKFkTd6vGLr4uy2nj2vz65XdZl6/6B+blIbpIbXbNPDlsa0MPJ0Nd2sGpebzAdE4J/EDcgEUX5WRYMkqY6IHhmke6eY1W23XdtujpXxOC/dPeyBqmTNfBB6y6OnsNiuuh4UYT+IlwmcikaPIYxrPf240BpcWT9XP93VJdvJof1wL9pnFARLHowu37CRiyqpsq2Gcim3toAb7oCWIQSSvk/sFE6F73fQG08uBo1JF1TCT2q8Aa9JuDTDXKCn5OzcxJ3o1KDkzAAu4c4ptPjkR2hDGEyFdbFOzTF/Oiab7c=
  - secure: Wqr0iCaCb9wD+QtLYVCQVDoIszSEA0i0sCskNDkTXKeYH9QH8yKHdiNWBa2pVT8dHrLy8CphWw2lGwhxs4bLq75TN6uZFf1zdZfCXhafZS/yxD+QbmXkTySsbdhpnw1fzRh/Ugxzq/6GJMZZvIy+SjSJ0+ttFAMgoxYWIzpElLXrpikBPo4DzA8PyFh3qj8Vc03Iv+cwaHjNgpanaTKK+dAbHOZGrTLwcseqs4B2HqJB20hgyCKem460sJq1doBS3ZNUJZDBvJtZpTyYL8lwHGQzepu4L9uinJXBpdkVBhzF2nu900rxtZwLEzONe1YUT8Rz5kf559Xx3NrYhC1x3ytE5ej3ioKUxPbOo92mDKGtD+oAGo2PUcfjLh0ZkPHtfPBKnLNKESYR6qj68YTkaEHe1XsQJ3ox5xaNProJnOeocrvCO+a7DSSj2k1vvPsHhh8wMGI+dNL5lfOESrzAlv2DcuwfUgM4m//MSGiWkH6sWv2dvf0aQtpV9NEe0kjIz+VIM5qT18jWh/CQM+LjbgX89Y5Wvok3tFp1/ajVyNw4VMMGN1/HdoS/w4bMzzxa4ea1Eu5sLlsDK70AIZvL7jysgR/wY+VSIsnmuSH4NtKHFxNVjlriFfWxUJ4AjOuecQkt4keKldHaeWSrUrfyHSyO+XYC9+zTregENEVC+1A=
  - secure: eEyLbQjmhzu7qGdzVB9lNFtVwCQL5QzE5qiw+Y6aspbwCTdoC+hUsWgo5tAPPtMYdWxocqBpc79Jc4ZHEnjEthvORa4v+eXfPIaxKPceZWS093YTRbQuljIrjahaIk14OE45SZOv/zShfVyIeweKeyL9wvr2QMuKkqep29vswAKXv7qM2+zVUr0PxZKOKhgChT3/OzQzX3+Ugmj9ZLl0ISsIwzzmmwSmXvcfpV/6UB+s0VjXY73FGW6TDNesPNrDmVmwFIN8n7J3/BfE2ab1uDja/Q6cwTa6k+rOUS9cNEObyfu15iJakE5L4rPTfRHrwWoSZDd7Y+oogHdS0PHvviGj3i9djGVlz2rJ2vptXXKPr2ulm5qJaf5Saolo4cLyoZEKcJkgXPLIww8yO4oNRb1Aq1Tam6cS+Q2Aa4nBjnaHuhMjgM9ZjTQ/ywc6ZQ8vfwtxpBtH6NE8QgV7RQ+2irgjCxSGEBu9pEcISFbzF6qwdhPfivXmERlzktY5VWxIOfPyUuN8LpdqvL/5leAgXicLh6FDzT5Kb9c48Cd2wpWWoqjvyeShpkasI/0NhFEWR5dgbZkDJE/NfKqt+KSj0Zgvmad84By+S0HO7BPD6lpiMTPG3LJQi/+DRECm9b1qKcChhdQH+MaONbyuH6jgVsenoiTRMyIPVQ+28MDTgp0=
  - secure: I6EWPau9rnJHdyM2S4eJjdErYKQ1XRE4qsIO25tb/HF24Q9HY64QUE8dshPSWoaNJlmalelrizHr5lnFM4Z3wAtWovE9g3cECuPPQEPsFCVmMZ9Ju+mmRe7pBclWLITRUrz9tvpNwVQJbP8QRQyGnBBI1ojz5k7o0u+p9mHQkowYCq+FjYwatZrHJjiUQ2XVPXEvYQ/C/yhGQ3dU87zDQKMe80M12Zs2XA6UmU0iL4zlYPnSmnP7bncPTWZHUXKl7nfvTCGYDL5lYsFWwrtd2wBHsa5if9/wCEAg5mv5i/S8p2zKR6tlJaSVWy75gRqSk57YC9LuiKIXgpwjgO4ByL+WMRaB5MN9teMDDiBk5omaExzxy5An4x50cH1cNLHIHQvesz5AQBFsXHgwJXzgaXcdY2VQ/2+sYfOBd3epZCsaQWXhuqXl9t2jMD5PgVMC1sE7tleakT1dsQCXwoTaQlfbG5uU396NdHTUM+oDHnEZ/JXFADmwjzsA9WoNNiYVCZpQwWCzovMu4ED4EeskbFF2x2ZwTY8WcS5n4buUOVMTBIRPK0V6JmM1zLJY29y7E57hjPszDoQMLpVBsYd/CId/9+xnA/uEgeTt8Oo+H7EQHOcpWZoOqbSS1CLlGf8xbtp7xF1A5yHvq479oGClsr2w8l9vkYzuxeSs6mfdcjs=
